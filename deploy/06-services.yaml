apiVersion: v1
kind: Service
metadata:
  name: miles-headless
  namespace: miles-gmi-tinker
  labels:
    app: miles-training
spec:
  clusterIP: None
  selector:
    app: miles-training
  ports:
  - name: ray-client
    port: 10001
    targetPort: 10001
  - name: ray-dashboard
    port: 8265
    targetPort: 8265
  - name: ray-gcs
    port: 6379
    targetPort: 6379
---
apiVersion: v1
kind: Service
metadata:
  name: miles-training
  namespace: miles-gmi-tinker
  labels:
    app: miles-training
spec:
  type: ClusterIP
  selector:
    app: miles-training
  ports:
  - name: ray-dashboard
    port: 8265
    targetPort: 8265
  - name: sglang
    port: 30000
    targetPort: 30000
